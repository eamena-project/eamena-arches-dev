window.toGeoJSON=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||c||s(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){(function(n){var i=function(){"use strict";var e,i=/\s*/g,o=/^\s*|\s*$/g,a=/\s+/;function s(e){if(!e||!e.length)return 0;for(var t=0,r=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return r}function u(e,t){return e.getElementsByTagName(t)}function l(e,t){return e.getAttribute(t)}function c(e,t){return parseFloat(l(e,t))}function f(e,t){var r=u(e,t);return r.length?r[0]:null}function h(e){for(var t=0,r=[];t<e.length;t++)r[t]=parseFloat(e[t]);return r}function p(e){var t;return e&&(t=e).normalize&&t.normalize(),e&&e.textContent||""}function g(e,t){var r,n,i={};for(n=0;n<t.length;n++)(r=f(e,t[n]))&&(i[t[n]]=p(r));return i}function m(e,t){for(var r in t)e[r]=t[r]}function y(e){return h(e.replace(i,"").split(","))}function d(e){for(var t=e.replace(o,"").split(a),r=[],n=0;n<t.length;n++)r.push(y(t[n]));return r}function v(e){var t,r=[c(e,"lon"),c(e,"lat")],n=f(e,"ele"),i=f(e,"gpxtpx:hr")||f(e,"hr"),o=f(e,"time");return n&&(t=parseFloat(p(n)),isNaN(t)||r.push(t)),{coordinates:r,time:o?p(o):null,heartRate:i?parseFloat(p(i)):null}}function T(t){return void 0!==t.xml?t.xml:e.serializeToString(t)}return"undefined"!=typeof XMLSerializer?e=new XMLSerializer:"object"!=typeof t||"object"!=typeof n||n.browser||(e=new(r(0).XMLSerializer)),{kml:function(e){for(var t={type:"FeatureCollection",features:[]},r={},n={},i={},o=["Polygon","LineString","Point","Track","gx:Track"],a=u(e,"Placemark"),c=u(e,"Style"),g=u(e,"StyleMap"),m=0;m<c.length;m++){var v=s(T(c[m])).toString(16);r["#"+l(c[m],"id")]=v,n[v]=c[m]}for(var k=0;k<g.length;k++){r["#"+l(g[k],"id")]=s(T(g[k])).toString(16);for(var b=u(g[k],"Pair"),w={},x=0;x<b.length;x++)w[p(f(b[x],"key"))]=p(f(b[x],"styleUrl"));i["#"+l(g[k],"id")]=w}for(var S=0;S<a.length;S++)t.features=t.features.concat(M(a[S]));function L(e){var t,r;return"#"===(e=e||"").substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(r=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(r)?void 0:r]}function N(e){var t=u(e,"coord"),r=[],n=[];0===t.length&&(t=u(e,"gx:coord"));for(var i=0;i<t.length;i++)r.push(h(p(t[i]).split(" ")));for(var o=u(e,"when"),a=0;a<o.length;a++)n.push(p(o[a]));return{coords:r,times:n}}function M(e){var t,a=function e(t){var r,n,i,a,s,l=[],c=[];if(f(t,"MultiGeometry"))return e(f(t,"MultiGeometry"));if(f(t,"MultiTrack"))return e(f(t,"MultiTrack"));if(f(t,"gx:MultiTrack"))return e(f(t,"gx:MultiTrack"));for(i=0;i<o.length;i++)if(n=u(t,o[i]))for(a=0;a<n.length;a++)if(r=n[a],"Point"===o[i])l.push({type:"Point",coordinates:y(p(f(r,"coordinates")))});else if("LineString"===o[i])l.push({type:"LineString",coordinates:d(p(f(r,"coordinates")))});else if("Polygon"===o[i]){var h=u(r,"LinearRing"),g=[];for(s=0;s<h.length;s++)g.push(d(p(f(h[s],"coordinates"))));l.push({type:"Polygon",coordinates:g})}else if("Track"===o[i]||"gx:Track"===o[i]){var m=N(r);l.push({type:"LineString",coordinates:m.coords}),m.times.length&&c.push(m.times)}return{geoms:l,coordTimes:c}}(e),s={},c=p(f(e,"name")),h=p(f(e,"address")),g=p(f(e,"styleUrl")),m=p(f(e,"description")),v=f(e,"TimeSpan"),T=f(e,"TimeStamp"),k=f(e,"ExtendedData"),b=f(e,"LineStyle"),w=f(e,"PolyStyle"),x=f(e,"visibility");if(!a.geoms.length)return[];if(c&&(s.name=c),h&&(s.address=h),g){"#"!==g[0]&&(g="#"+g),s.styleUrl=g,r[g]&&(s.styleHash=r[g]),i[g]&&(s.styleMapHash=i[g],s.styleHash=r[i[g].normal]);var S=n[s.styleHash];S&&(b||(b=f(S,"LineStyle")),w||(w=f(S,"PolyStyle")))}if(m&&(s.description=m),v){var M=p(f(v,"begin")),P=p(f(v,"end"));s.timespan={begin:M,end:P}}if(T&&(s.timestamp=p(f(T,"when"))),b){var F=L(p(f(b,"color"))),R=F[0],z=F[1],A=parseFloat(p(f(b,"width")));R&&(s.stroke=R),isNaN(z)||(s["stroke-opacity"]=z),isNaN(A)||(s["stroke-width"]=A)}if(w){var E=L(p(f(w,"color"))),O=E[0],j=E[1],C=p(f(w,"fill")),G=p(f(w,"outline"));O&&(s.fill=O),isNaN(j)||(s["fill-opacity"]=j),C&&(s["fill-opacity"]="1"===C?s["fill-opacity"]||1:0),G&&(s["stroke-opacity"]="1"===G?s["stroke-opacity"]||1:0)}if(k){var H=u(k,"Data"),_=u(k,"SimpleData");for(t=0;t<H.length;t++)s[H[t].getAttribute("name")]=p(f(H[t],"value"));for(t=0;t<_.length;t++)s[_[t].getAttribute("name")]=p(_[t])}x&&(s.visibility=p(x)),a.coordTimes.length&&(s.coordTimes=1===a.coordTimes.length?a.coordTimes[0]:a.coordTimes);var D={type:"Feature",geometry:1===a.geoms.length?a.geoms[0]:{type:"GeometryCollection",geometries:a.geoms},properties:s};return l(e,"id")&&(D.id=l(e,"id")),[D]}return t},gpx:function(e){var t,r,n=u(e,"trk"),i=u(e,"rte"),o=u(e,"wpt"),a={type:"FeatureCollection",features:[]};for(t=0;t<n.length;t++)(r=c(n[t]))&&a.features.push(r);for(t=0;t<i.length;t++)(r=h(i[t]))&&a.features.push(r);for(t=0;t<o.length;t++)a.features.push(y(o[t]));function s(e,t){var r=u(e,t),n=[],i=[],o=[],a=r.length;if(a<2)return{};for(var s=0;s<a;s++){var l=v(r[s]);n.push(l.coordinates),l.time&&i.push(l.time),l.heartRate&&o.push(l.heartRate)}return{line:n,times:i,heartRates:o}}function c(e){for(var t,r=u(e,"trkseg"),n=[],i=[],o=[],a=0;a<r.length;a++)(t=s(r[a],"trkpt"))&&(t.line&&n.push(t.line),t.times&&t.times.length&&i.push(t.times),t.heartRates&&t.heartRates.length&&o.push(t.heartRates));if(0!==n.length){var l=T(e);return m(l,d(f(e,"extensions"))),i.length&&(l.coordTimes=1===n.length?i[0]:i),o.length&&(l.heartRates=1===n.length?o[0]:o),{type:"Feature",properties:l,geometry:{type:1===n.length?"LineString":"MultiLineString",coordinates:1===n.length?n[0]:n}}}}function h(e){var t=s(e,"rtept");if(t.line){var r=T(e);return m(r,d(f(e,"extensions"))),{type:"Feature",properties:r,geometry:{type:"LineString",coordinates:t.line}}}}function y(e){var t=T(e);return m(t,g(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:v(e).coordinates}}}function d(e){var t={};if(e){var r=f(e,"line");if(r){var n=p(f(r,"color")),i=parseFloat(p(f(r,"opacity"))),o=parseFloat(p(f(r,"width")));n&&(t.stroke=n),isNaN(i)||(t["stroke-opacity"]=i),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function T(e){var t=g(e,["name","cmt","desc","type","time","keywords"]),r=u(e,"link");r.length&&(t.links=[]);for(var n,i=0;i<r.length;i++)m(n={href:l(r[i],"href")},g(r[i],["text","type"])),t.links.push(n);return t}return a}}}();e.exports=i}).call(this,r(1))}]);
//# sourceMappingURL=togeojson-prod.js.map